/*
 *  rexIndicator
 * @version 1.0.0
 *
 *  Made by NEWEB - Digital Agency
 * @preserve
 */
!function(n,i,s,t){"use strict";const o="rexIndicator",h={indicator:".rex-indicator__wrap--absolute",block_parent:".perfect-grid-item",after:".rexpansive_section"},e=[];function r(){let t=i,e="inner";return"innerWidth"in i||(e="client",t=s.documentElement||s.body),{width:t[e+"Width"],height:t[e+"Height"]}}function l(t,e){this.element=t,this.$element=n(t),this.settings=n.extend({},h,e),this._defaults=h,this._name=o,this.$indicator=this.$element.find(this.settings.indicator),this.settings.from=this.$indicator.attr("data-ri-from")||this.settings.from,this.settings.to=this.$indicator.attr("data-ri-to")||this.settings.to,this.settings.relative_to=this.$indicator.attr("data-ri-relative-to")||this.settings.relative_to,this.settings.relative_to_parent_position=this.$indicator.attr("data-ri-relative-to-parent-position")||this.settings.relative_to_parent_position,this.settings.to_amount=this.$indicator.attr("data-ri-to-amount")||this.settings.to_amount,this.settings.relative_to_parent_position=parseInt(this.settings.relative_to_parent_position)/100,this.$line_ref=this.$element.children(this.settings.indicator),this.line_ref=this.$line_ref.get().pop(),this.$block_ref=this.$element.parents(this.settings.block_parent),this.$after_ref=this.$element.parents(this.settings.after),this.$line_ref_moved_parent=null,this.line_ref_moved_parent=null,this.init()}i.addEventListener("resize",function(){for(let t=0;t<e.length;t++)null!==e[t]&&e[t].call()}),n.extend(l.prototype,{init:function(){this.move_indicator(),this.set_indicator_dimension(),this.place_indicator(),e.push(this.resize_callback.bind(this))},resize_callback:function(){this.set_indicator_dimension(),this.place_indicator()},move_indicator:function(){this.$after_ref.after(this.$line_ref),this.$line_ref_moved_parent=this.$line_ref.parent(),this.line_ref_moved_parent=this.$line_ref_moved_parent.get().pop()},place_indicator:function(){let t={top:0,left:0};switch(this.settings.relative_to){case"block":t=r().width>=parseInt(_plugin_frontend_settings.rexIndicator.collapse_dimension)?this._get_position_desktop_block_relative():this._get_position_mobile();break;case"start":t=r().width>=parseInt(_plugin_frontend_settings.rexIndicator.collapse_dimension)?this._get_position_desktop_start_relative():this._get_position_mobile();break;case"parent":t=r().width>=parseInt(_plugin_frontend_settings.rexIndicator.collapse_dimension)?this._get_position_desktop_parent_relative():this._get_position_mobile()}this.$line_ref.offset(t)},set_indicator_dimension:function(){if("auto"!==this.settings.to_amount)switch(this.settings.to){case"left":var t=this.element.getBoundingClientRect().x,e=this.line_ref_moved_parent.getBoundingClientRect().x;this.line_ref.style.setProperty("--rex-indicator-wrap-width",t-e+"px");break;case"right":t=this.line_ref_moved_parent.getBoundingClientRect(),e=this.element.getBoundingClientRect().x,t=t.x+t.width-e;this.line_ref.style.setProperty("--rex-indicator-wrap-width",t+"px");break;case"bottom":e=this.$after_ref.get().pop().getBoundingClientRect(),t=this.element.getBoundingClientRect(),e=e.y+e.height-t.y-t.height/2;this.line_ref.style.setProperty("--rex-indicator-wrap-height",e+"px");break;case"top":t=this.$after_ref.get().pop().getBoundingClientRect(),e=this.element.getBoundingClientRect(),t=e.y-t.y+e.height/2;this.line_ref.style.setProperty("--rex-indicator-wrap-height",t+"px")}},_get_position_desktop_block_relative:function(){var t={top:0,left:0},e=this.$block_ref.offset();return"left"==this.settings.to||"right"==this.settings.to?t.top=e.top+this.$block_ref.outerHeight()/2:"top"==this.settings.to?t.top=e.top-this.$line_ref.height()/2:"bottom"==this.settings.to&&(t.top=e.top+this.$block_ref.outerHeight()-this.$line_ref.height()/2),"top"==this.settings.to||"bottom"==this.settings.to?t.left=e.left+this.$block_ref.outerWidth()/2-this.$line_ref.width()/2:"left"==this.settings.to?t.left=e.left-this.$line_ref.width()/2:"right"==this.settings.to&&(t.left=e.left+this.$block_ref.outerWidth()-this.$line_ref.width()/2),t},_get_position_desktop_start_relative:function(){var t={top:0,left:0},e=this.$block_ref.offset(),i=this.$element.offset();return"left"==this.settings.to||"right"==this.settings.to?t.top=i.top+this.$element.outerHeight(!0)/2-parseInt(this.$element.css("marginTop"))-this.$line_ref.height()/2:"top"==this.settings.to?t.top=e.top-this.$line_ref.height()/2:"bottom"==this.settings.to&&(t.top=e.top+this.$block_ref.outerHeight()-this.$line_ref.height()/2),"top"==this.settings.to||"bottom"==this.settings.to?t.left=i.left+this.$line_ref.width()/2:"left"==this.settings.to?t.left=e.left-this.$line_ref.width()/2:"right"==this.settings.to&&(t.left=e.left+this.$block_ref.outerWidth()-this.$line_ref.width()/2),t},_get_position_desktop_parent_relative:function(){var t={top:0,left:0},e=this.$block_ref.offset(),i=this.$element.parent().offset();return"left"==this.settings.to||"right"==this.settings.to?t.top=this.$element.offset().top+this.$element.outerHeight(!0)/2-this.$line_ref.height()/2:"top"==this.settings.to?"auto"===this.settings.to_amount?t.top=e.top-this.$line_ref.height()/2:t.top=this.$after_ref.offset().top:"bottom"==this.settings.to&&("auto"===this.settings.to_amount?t.top=e.top+this.$block_ref.outerHeight()-this.$line_ref.height()/2:t.top=this.$element.offset().top+this.element.getBoundingClientRect().height/2),"top"==this.settings.to||"bottom"==this.settings.to?"auto"===this.settings.to_amount?t.left=i.left+this.$line_ref.width()/2:t.left=this.$element.offset().left-this.$line_ref.width()/2:"left"==this.settings.to?"auto"===this.settings.to_amount?t.left=e.left-this.$line_ref.width()/2:(i=this.line_ref_moved_parent.getBoundingClientRect(),t.left=i.left):"right"==this.settings.to&&("auto"===this.settings.to_amount?t.left=e.left+this.$block_ref.outerWidth()-this.$line_ref.width()/2:(i=this.line_ref_moved_parent.getBoundingClientRect(),t.left=i.left+i.width-this.$line_ref.width())),t},_get_position_mobile:function(){var t={top:0,left:0},e=this.$block_ref.offset();switch(this.settings.to){case"left":t.top=e.top-this.$line_ref.width()/2,t.left=e.left+this.$block_ref.outerWidth()/2-this.$line_ref.height()/2;break;case"top":t.top=e.top-this.$line_ref.height()/2,t.left=e.left+this.$block_ref.outerWidth()/2-this.$line_ref.width()/2;break;case"right":t.top=e.top+this.$block_ref.outerHeight()-this.$line_ref.width()/2,t.left=e.left+this.$block_ref.outerWidth()/2-this.$line_ref.height()/2;break;case"bottom":t.top=e.top+this.$block_ref.outerHeight()-this.$line_ref.height()/2,t.left=e.left+this.$block_ref.outerWidth()/2-this.$line_ref.width()/2}return t}}),n.fn[o]=function(i){const s=arguments;if(i===t||"object"==typeof i)return this.each(function(){n.data(this,"plugin_"+o)||n.data(this,"plugin_"+o,new l(this,i))});if("string"==typeof i&&"_"!==i[0]&&"init"!==i){let e;return this.each(function(){var t=n.data(this,"plugin_"+o);t instanceof l&&"function"==typeof t[i]&&(e=t[i].apply(t,Array.prototype.slice.call(s,1))),"destroy"===i&&n.data(this,"plugin_"+o,null)}),e!==t?e:this}}}(jQuery,window,document);