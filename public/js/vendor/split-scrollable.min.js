!function(l,t){"use strict";l.SplitScrollable=t()}("undefined"!=typeof window?window:this,function(){var i=[],t=[],s=[];var o,e,c,l,r,a,p,n,h,E,u=S();function d(){this.element=null,this.splitScrollWrapper=null,this.scrollElsWrapper=null,this.scrollEls=[],this.scrollElsToWatch=[],this.totScrollEls=0,this.totScrollElsToWatch=0,this.actualScrollEl=null,this.opacityElsWrapper=null,this.opacityEls=[],this.totOpacityEls=0,this.scrollElsState=[],this.scrollObserver=null,this.userScrolled=!1,arguments[0]&&(this.element=arguments[0]);var l={splitScrollElClass:"split-scrollable-container",splitScrollActiveElClass:"split-scrollable--active",splitScrollLeftClass:"split-scrollable--left",splitScrollRightClass:"split-scrollable--right",scrollElsWrapClass:"scroll-block-wrapper",scrollElsClass:"scroll-block",scrollElsToWatchClass:"scroll-block",scrollElActiveClass:"scroll-block-active",opacityElsWrapClass:"opacity-block-wrapper",opacityElsClass:"opacity-block",opacityFakeElClass:"opacity-block-fake",opacityElActiveClass:"opacity-block-active",scrollSide:"left",initializeComplete:null};this.options=arguments[1]&&"object"==typeof arguments[1]?function(l,t){for(var s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);return l}(l,arguments[1]):l,function(){o(this.element,this.options.splitScrollLeftClass)&&(this.options.scrollSide="left");o(this.element,this.options.splitScrollRightClass)&&(this.options.scrollSide="right")}.call(this),function(){if(this.scrollEls=[].slice.call(this.element.getElementsByClassName(this.options.scrollElsClass)),this.totScrollEls=this.scrollEls.length,this.options.scrollElsClass===this.options.scrollElsToWatchClass)this.scrollElsToWatch=this.scrollEls;else for(var l=0;l<this.totScrollEls;l++)this.scrollElsToWatch.push(this.scrollEls[l].querySelector("."+this.options.scrollElsToWatchClass));this.totScrollElsToWatch=this.scrollElsToWatch.length,this.opacityEls=[].slice.call(this.element.getElementsByClassName(this.options.opacityElsClass)),this.totOpacityEls=this.opacityEls.length;var t=0;for(t=0;t<this.totScrollEls;t++)this.scrollElsToWatch[t].setAttribute("data-scroll-el-index",t),this.scrollElsState.push(null);e(this.element,this.options.splitScrollActiveElClass)}.call(this),function(){if(o(this.scrollEls[0].parentNode,this.options.scrollElsWrapClass))this.scrollElsWrapper=this.scrollEls[0].parentNode;else{this.scrollElsWrapper=document.createElement("div"),e(this.scrollElsWrapper,this.options.scrollElsWrapClass),this.scrollEls[0].parentNode.appendChild(this.scrollElsWrapper);for(var l=0;l<this.totScrollEls;l++)this.scrollElsWrapper.appendChild(this.scrollEls[l])}if(o(this.opacityEls[0].parentNode,this.options.opacityElsWrapClass))this.opacityElsWrapper=this.opacityEls[0].parentNode;else{this.opacityElsWrapper=document.createElement("div"),e(this.opacityElsWrapper,this.options.opacityElsWrapClass),this.opacityEls[0].parentNode.appendChild(this.opacityElsWrapper);for(l=0;l<this.totOpacityEls;l++)this.opacityElsWrapper.appendChild(this.opacityEls[l])}o(this.scrollElsWrapper.parentNode,this.options.splitScrollElClass)?this.splitScrollWrapper=this.element:(this.splitScrollWrapper=document.createElement("div"),e(this.splitScrollWrapper,this.options.splitScrollElClass),this.scrollElsWrapper.parentNode.appendChild(this.splitScrollWrapper),"right"===this.options.scrollSide?(this.splitScrollWrapper.appendChild(this.opacityElsWrapper),this.splitScrollWrapper.appendChild(this.scrollElsWrapper)):(this.splitScrollWrapper.appendChild(this.scrollElsWrapper),this.splitScrollWrapper.appendChild(this.opacityElsWrapper)))}.call(this),"function"==typeof this.options.initializeComplete&&this.options.initializeComplete.call(this),f.call(this),y.call(this),t.push(y.bind(this)),i.push(this)}function f(){this.opacityElsWrapper.style.height=parseFloat(getComputedStyle(this.opacityEls[this.opacityEls.length-1],null).top.replace("px",""))+this.opacityEls[this.opacityEls.length-1].offsetHeight+"px"}function y(){var l=W.call(this);l&&this.actualScrollEl!==l&&C.call(this,l)}function W(){for(var l,t=window.pageYOffset||document.documentElement.scrollTop,s=null,i=0;i<this.totScrollElsToWatch;i++)if(this.scrollElsToWatch[i]&&(((l=function(l){l=l.getBoundingClientRect();return{top:l.top+(window.pageYOffset||document.body.scrollTop)-(document.body.clientTop||0),left:l.left+(window.pageXOffset||document.body.scrollLeft)-(document.body.clientLeft||0),height:l.height}}(this.scrollElsToWatch[i])).top>t+0||l.top+l.height>t+0)&&l.top<t+u.height+0)){s=this.scrollElsToWatch[i].getAttribute("data-scroll-el-index");break}return s}function C(l){!function(l){for(var t=0;t<this.totScrollEls;t++)this.scrollElsToWatch[t].getAttribute("data-scroll-el-index")==l?(this.scrollEls[t]&&e(this.scrollEls[t],this.options.scrollElActiveClass),this.opacityEls[t]?e(this.opacityEls[t],this.options.opacityElActiveClass):e(this.opacityEls[this.opacityEls.length-1],this.options.opacityElActiveClass)):(this.scrollEls[t]&&c(this.scrollEls[t],this.options.scrollElActiveClass),this.opacityEls[t]&&c(this.opacityEls[t],this.options.opacityElActiveClass))}.call(this,l),this.actualScrollEl=l}function m(l){for(var t=l.parentNode;l.firstChild;)t.insertBefore(l.firstChild,l);t.removeChild(l)}function S(){var l=window,t="inner";return"innerWidth"in window||(t="client",l=document.documentElement||document.body),{width:l[t+"Width"],height:l[t+"Height"]}}return s.push(function(){u=S()}),c="classList"in document.documentElement?(o=function(l,t){return l.classList.contains(t)},e=function(l,t){l.classList.add(t)},function(l,t){l.classList.remove(t)}):(o=function(l,t){return new RegExp("\\b"+t+"\\b").test(l.className)},e=function(l,t){o(l,t)||(l.className+=" "+t)},function(l,t){l.className=l.className.replace(new RegExp("\\b"+t+"\\b","g"),"")}),d.prototype.refreshScrollableIndex=function(){var l=W.call(this);l&&C.call(this,l)},d.prototype.callFixStickyHeight=function(){f.call(this)},d.prototype.destroy=function(){c(this.element,this.options.splitScrollActiveElClass),function(){m(this.scrollElsWrapper),m(this.opacityElsWrapper),m(this.splitScrollWrapper)}.call(this),i=i.filter(function(l){return l.element!==this.element}.bind(this))},d.data=function(l){for(var t=0,s=i.length,t=0;t<s;t++)if(l===i[t].element)return i[t];return null},window.addEventListener("scroll",(l=function(l){t.forEach(function(l){l.call()})},a=!(r=50),function(){a||(l.call(),a=!0,setTimeout(function(){a=!1},r))})),window.addEventListener("resize",(p=function(l){s.forEach(function(l){l.call()})},n=150,function(){var l=this,t=arguments,s=h&&!E;clearTimeout(E),E=setTimeout(function(){E=null,h||p.apply(l,t)},n),s&&p.apply(l,t)})),d});