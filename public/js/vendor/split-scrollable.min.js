!function(){function s(){if(this.scrollEls=[].slice.call(this.element.getElementsByClassName(this.options.scrollElsClass)),this.totScrollEls=this.scrollEls.length,this.options.scrollElsClass===this.options.scrollElsToWatchClass)this.scrollElsToWatch=this.scrollEls;else for(var s=0;s<this.totScrollEls;s++)this.scrollElsToWatch.push(this.scrollEls[s].querySelector("."+this.options.scrollElsToWatchClass));this.totScrollElsToWatch=this.scrollElsToWatch.length,this.opacityEls=[].slice.call(this.element.getElementsByClassName(this.options.opacityElsClass)),this.totOpacityEls=this.opacityEls.length;var l=0;for(l=0;l<this.totScrollEls;l++)this.scrollElsToWatch[l].setAttribute("data-scroll-el-index",l),this.scrollElsState.push(null);this.viewportSizes=n(),this.options.customScrollContainer?this.scrollContainer=this.options.customScrollContainer:this.scrollContainer=window}function l(){if(E(this.scrollEls[0].parentNode,this.options.scrollElsWrapClass))this.scrollElsWrapper=this.scrollEls[0].parentNode;else{this.scrollElsWrapper=document.createElement("div"),u(this.scrollElsWrapper,this.options.scrollElsWrapClass),this.scrollEls[0].parentNode.appendChild(this.scrollElsWrapper);for(var s=0;s<this.totScrollEls;s++)this.scrollElsWrapper.appendChild(this.scrollEls[s])}if(E(this.opacityEls[0].parentNode,this.options.opacityElsWrapClass))this.opacityElsWrapper=this.opacityEls[0].parentNode;else{this.opacityElsWrapper=document.createElement("div"),u(this.opacityElsWrapper,this.options.opacityElsWrapClass),this.opacityEls[0].parentNode.appendChild(this.opacityElsWrapper);for(var s=0;s<this.totOpacityEls;s++)this.opacityElsWrapper.appendChild(this.opacityEls[s])}E(this.scrollElsWrapper.parentNode,this.options.splitScrollElClass)?this.splitScrollWrapper=this.element:(this.splitScrollWrapper=document.createElement("div"),u(this.splitScrollWrapper,this.options.splitScrollElClass),this.scrollElsWrapper.parentNode.appendChild(this.splitScrollWrapper),this.splitScrollWrapper.appendChild(this.scrollElsWrapper),this.splitScrollWrapper.appendChild(this.opacityElsWrapper))}function t(){this.opacityElsWrapper.style.height=parseFloat(getComputedStyle(this.opacityEls[this.opacityEls.length-1],null).top.replace("px",""))+this.opacityEls[this.opacityEls.length-1].offsetHeight+"px"}function i(){o.call(this),c.call(this)}function o(){var s=this;this.scrollObserver=new IntersectionObserver(function(l,t){var i=l.length,o=0;for(o=0;o<i;o++)e.call(s,l[o])},{threshold:[0,.2,.4,.6,.8,1]});var l=0;for(l=0;l<this.totScrollEls;l++)this.scrollObserver.observe(this.scrollElsToWatch[l])}function e(s){var l=parseInt(s.target.getAttribute("data-scroll-el-index"));this.scrollElsState[l]=s,s.isIntersecting&&(console.log(s.intersectionRatio,s.target),s.intersectionRatio>.8&&(console.log("beccato",l),r.call(this,l)))}function r(s){for(var l=0;l<this.totScrollEls;l++)s===l?u(this.scrollEls[l],this.options.scrollElActiveClass):d(this.scrollEls[l],this.options.scrollElActiveClass);for(var l=0;l<this.totOpacityEls;l++)s===l?u(this.opacityEls[l],this.options.opacityElActiveClass):d(this.opacityEls[l],this.options.opacityElActiveClass)}function c(){function s(){userResized=!0}userResized=!1;var l=this;window.addEventListener("resize",s),p(function(){userResized&&(a.call(l),userResized=!1)},150)}function a(){this.viewportSizes=n()}function n(){var s=window,l="inner";return"innerWidth"in window||(l="client",s=document.documentElement||document.body),{width:s[l+"Width"],height:s[l+"Height"]}}function p(s,l){var t,i=Date.now,o=window.requestAnimationFrame,e=i(),r=function(){i()-e<l||(e+=l,s()),t||o(r)};return o(r),{clear:function(){t=1}}}function h(s,l){var t;for(t in l)l.hasOwnProperty(t)&&(s[t]=l[t]);return s}this.SplitScrollable=function(){this.element=null,this.splitScrollWrapper=null,this.scrollElsWrapper=null,this.scrollEls=[],this.scrollElsToWatch=[],this.totScrollEls=0,this.totScrollElsToWatch=0,this.actualScrollEl=null,this.opacityElsWrapper=null,this.opacityEls=[],this.totOpacityEls=0,this.scrollElsState=[],this.scrollObserver=null,this.userScrolled=!1,this.viewportSizes=null,this.scrollContainer=null,arguments[0]&&(this.element=arguments[0]);var o={splitScrollElClass:"split-scrollable-container",scrollElsWrapClass:"scroll-block-wrapper",scrollElsClass:"scroll-block",scrollElsToWatchClass:"scroll-block",scrollElActiveClass:"scroll-block-active",opacityElsWrapClass:"opacity-block-wrapper",opacityElsClass:"opacity-block",opacityFakeElClass:"opacity-block-fake",opacityElActiveClass:"opacity-block-active",initializeComplete:null,customScrollContainer:null};arguments[1]&&"object"==typeof arguments[1]?this.options=h(o,arguments[1]):this.options=o,s.call(this),l.call(this),"function"==typeof this.options.initializeComplete&&this.options.initializeComplete.call(this),t.call(this),i.call(this),this.element.DistanceAccordionInstance=this};var E,u,d,y;"classList"in document.documentElement?(E=function(s,l){return s.classList.contains(l)},u=function(s,l){s.classList.add(l)},d=function(s,l){s.classList.remove(l)}):(E=function(s,l){return new RegExp("\\b"+l+"\\b").test(s.className)},u=function(s,l){E(s,l)||(s.className+=" "+l)},d=function(s,l){s.className=s.className.replace(new RegExp("\\b"+l+"\\b","g"),"")}),y=function(s,l){E(s,l)?d(s,l):u(s,l)}}();