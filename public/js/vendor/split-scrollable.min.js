!function(){function s(){if(this.scrollEls=[].slice.call(this.element.getElementsByClassName(this.options.scrollElsClass)),this.totScrollEls=this.scrollEls.length,this.options.scrollElsClass===this.options.scrollElsToWatchClass)this.scrollElsToWatch=this.scrollEls;else for(var s=0;s<this.totScrollEls;s++)this.scrollElsToWatch.push(this.scrollEls[s].querySelector("."+this.options.scrollElsToWatchClass));this.totScrollElsToWatch=this.scrollElsToWatch.length,this.opacityEls=[].slice.call(this.element.getElementsByClassName(this.options.opacityElsClass)),this.totOpacityEls=this.opacityEls.length;var l=0;for(l=0;l<this.totScrollEls;l++)this.scrollElsToWatch[l].setAttribute("data-scroll-el-index",l),this.scrollElsState.push(null)}function l(){if(c(this.scrollEls[0].parentNode,this.options.scrollElsWrapClass))this.scrollElsWrapper=this.scrollEls[0].parentNode;else{this.scrollElsWrapper=document.createElement("div"),a(this.scrollElsWrapper,this.options.scrollElsWrapClass),this.scrollEls[0].parentNode.appendChild(this.scrollElsWrapper);for(var s=0;s<this.totScrollEls;s++)this.scrollElsWrapper.appendChild(this.scrollEls[s])}if(c(this.opacityEls[0].parentNode,this.options.opacityElsWrapClass))this.opacityElsWrapper=this.opacityEls[0].parentNode;else{this.opacityElsWrapper=document.createElement("div"),a(this.opacityElsWrapper,this.options.opacityElsWrapClass),this.opacityEls[0].parentNode.appendChild(this.opacityElsWrapper);for(var s=0;s<this.totOpacityEls;s++)this.opacityElsWrapper.appendChild(this.opacityEls[s])}c(this.scrollElsWrapper.parentNode,this.options.splitScrollElClass)?this.splitScrollWrapper=this.element:(this.splitScrollWrapper=document.createElement("div"),a(this.splitScrollWrapper,this.options.splitScrollElClass),this.scrollElsWrapper.parentNode.appendChild(this.splitScrollWrapper),this.splitScrollWrapper.appendChild(this.scrollElsWrapper),this.splitScrollWrapper.appendChild(this.opacityElsWrapper))}function t(){var s=this;this.scrollObserver=new IntersectionObserver(function(l,t){var o=l.length,e=0;for(e=0;e<o;e++)i.call(s,l[e])},{threshold:[0,.2,.4,.6,.8,1]});var l=0;for(l=0;l<this.totScrollEls;l++)this.scrollObserver.observe(this.scrollElsToWatch[l])}function i(s){var l=parseInt(s.target.getAttribute("data-scroll-el-index"));this.scrollElsState[l]=s,s.isIntersecting&&s.intersectionRatio>.8&&o.call(this,l)}function o(s){for(var l=0;l<this.totScrollEls;l++)s===l?a(this.scrollEls[l],this.options.scrollElActiveClass):p(this.scrollEls[l],this.options.scrollElActiveClass);for(var l=0;l<this.totOpacityEls;l++)s===l?a(this.opacityEls[l],this.options.opacityElActiveClass):p(this.opacityEls[l],this.options.opacityElActiveClass)}function e(){this.opacityElsWrapper.style.height=parseFloat(getComputedStyle(this.opacityEls[this.opacityEls.length-1],null).top.replace("px",""))+this.opacityEls[this.opacityEls.length-1].offsetHeight+"px"}function r(s,l){var t;for(t in l)l.hasOwnProperty(t)&&(s[t]=l[t]);return s}this.SplitScrollable=function(){this.element=null,this.splitScrollWrapper=null,this.scrollElsWrapper=null,this.scrollEls=[],this.scrollElsToWatch=[],this.totScrollEls=0,this.totScrollElsToWatch=0,this.opacityElsWrapper=null,this.opacityEls=[],this.totOpacityEls=0,this.scrollElsState=[],this.scrollObserver=null,arguments[0]&&(this.element=arguments[0]);var i={splitScrollElClass:"split-scrollable-container",scrollElsWrapClass:"scroll-block-wrapper",scrollElsClass:"scroll-block",scrollElsToWatchClass:"scroll-block",scrollElActiveClass:"scroll-block-active",opacityElsWrapClass:"opacity-block-wrapper",opacityElsClass:"opacity-block",opacityFakeElClass:"opacity-block-fake",opacityElActiveClass:"opacity-block-active",initializeComplete:null};arguments[1]&&"object"==typeof arguments[1]?this.options=r(i,arguments[1]):this.options=i,s.call(this),l.call(this),"function"==typeof this.options.initializeComplete&&this.options.initializeComplete.call(this),e.call(this),t.call(this),this.element.DistanceAccordionInstance=this};var c,a,p,h;"classList"in document.documentElement?(c=function(s,l){return s.classList.contains(l)},a=function(s,l){s.classList.add(l)},p=function(s,l){s.classList.remove(l)}):(c=function(s,l){return new RegExp("\\b"+l+"\\b").test(s.className)},a=function(s,l){c(s,l)||(s.className+=" "+l)},p=function(s,l){s.className=s.className.replace(new RegExp("\\b"+l+"\\b","g"),"")}),h=function(s,l){c(s,l)?p(s,l):a(s,l)}}();