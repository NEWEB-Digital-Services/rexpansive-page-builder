!function(){function l(){this.scrollEls=[].slice.call(this.element.getElementsByClassName(this.options.scrollElsClass)),this.opacityEls=[].slice.call(this.element.getElementsByClassName(this.options.opacityElsClass)),this.totScrollEls=this.scrollEls.length,this.totOpacityEls=this.opacityEls.length,this.scrollEls.forEach(function(l,t){l.setAttribute("data-scroll-el-index",t)})}function t(){if(a(this.scrollEls[0].parentNode,this.options.scrollElsWrapClass))this.scrollElsWrapper=this.scrollEls[0].parentNode;else{this.scrollElsWrapper=document.createElement("div"),r(this.scrollElsWrapper,this.options.scrollElsWrapClass),this.scrollEls[0].parentNode.appendChild(this.scrollElsWrapper);for(var l=0;l<this.totScrollEls;l++)this.scrollElsWrapper.appendChild(this.scrollEls[l])}if(a(this.opacityEls[0].parentNode,this.options.opacityElsWrapClass))this.opacityElsWrapper=this.opacityEls[0].parentNode;else{this.opacityElsWrapper=document.createElement("div"),r(this.opacityElsWrapper,this.options.opacityElsWrapClass),this.opacityEls[0].parentNode.appendChild(this.opacityElsWrapper);for(var l=0;l<this.totOpacityEls;l++)this.opacityElsWrapper.appendChild(this.opacityEls[l])}a(this.scrollElsWrapper.parentNode,this.options.splitScrollElClass)?this.splitScrollWrapper=this.element:(this.splitScrollWrapper=document.createElement("div"),r(this.splitScrollWrapper,this.options.splitScrollElClass),this.scrollElsWrapper.parentNode.appendChild(this.splitScrollWrapper),this.splitScrollWrapper.appendChild(this.scrollElsWrapper),this.splitScrollWrapper.appendChild(this.opacityElsWrapper))}function s(){var l=this;this.scrollObserver=new IntersectionObserver(function(t,s){t.forEach(function(t){if(t.isIntersecting)if(t.boundingClientRect.top>0&&(null===t.target.previousElementSibling||!a(t.target.previousElementSibling,l.options.scrollElActiveClass))){r(t.target,l.options.scrollElActiveClass);var s=t.target.getAttribute("data-scroll-el-index");r(l.opacityEls[s],l.options.opacityElActiveClass)}else{p(t.target,l.options.scrollElActiveClass);var s=parseInt(t.target.getAttribute("data-scroll-el-index"));p(l.opacityEls[s],l.options.opacityElActiveClass),t.target.nextElementSibling&&r(t.target.nextElementSibling,l.options.scrollElActiveClass)}else{p(t.target,l.options.scrollElActiveClass);var s=parseInt(t.target.getAttribute("data-scroll-el-index"));p(l.opacityEls[s],l.options.opacityElActiveClass)}})},{threshold:[0,.2,.4,.6,.8,1]}),this.scrollEls.forEach(function(t){l.scrollObserver.observe(t)})}function i(){var l=this.opacityEls[this.totOpacityEls-1],t=l.cloneNode(!0);p(t,this.options.opacityElsClass),r(t,this.options.opacityFakeElClass),this.opacityEls[0].parentNode.insertBefore(t,this.opacityEls[0])}function e(){this.opacityEls[this.opacityEls.length-1].parentNode.style.height=parseFloat(getComputedStyle(this.opacityEls[this.opacityEls.length-1],null).top.replace("px",""))+this.opacityEls[this.opacityEls.length-1].offsetHeight+"px"}function o(l,t){var s;for(s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);return l}this.SplitScrollable=function(){this.element=null,this.splitScrollWrapper=null,this.scrollElsWrapper=null,this.scrollEls=null,this.opacityElsWrapper=null,this.opacityEls=null,this.totScrollEls=0,this.totOpacityEls=0,this.scrollObserver=null,arguments[0]&&(this.element=arguments[0]);var a={splitScrollElClass:"split-scrollable-container",scrollElsWrapClass:"scroll-block-wrapper",scrollElsClass:"scroll-block",scrollElActiveClass:"scroll-block-active",opacityElsWrapClass:"opacity-block-wrapper",opacityElsClass:"opacity-block",opacityFakeElClass:"opacity-block-fake",opacityElActiveClass:"opacity-block-active",initializeComplete:null};arguments[1]&&"object"==typeof arguments[1]?this.options=o(a,arguments[1]):this.options=a,l.call(this),t.call(this),e.call(this),"function"==typeof this.options.initializeComplete&&this.options.initializeComplete.call(this),s.call(this),i.call(this)};var a,r,p,c;"classList"in document.documentElement?(a=function(l,t){return l.classList.contains(t)},r=function(l,t){l.classList.add(t)},p=function(l,t){l.classList.remove(t)}):(a=function(l,t){return new RegExp("\\b"+t+"\\b").test(l.className)},r=function(l,t){a(l,t)||(l.className+=" "+t)},p=function(l,t){l.className=l.className.replace(new RegExp("\\b"+t+"\\b","g"),"")}),c=function(l,t){a(l,t)?p(l,t):r(l,t)}}();