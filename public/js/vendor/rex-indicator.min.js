/**
 * RexIndicator script in plain js
 * @version 1.0.0
 * @todo manage missing condition (view jQuery version)
 */
!function(t,e){"use strict";t.RexIndicator=e()}("undefined"!=typeof window?window:this,function(){let n=[];const i=[];function t(){this.element=null,this.indicator=null,arguments[0]&&(this.element=arguments[0]);var t={indicator:".rex-indicator__wrap--absolute",block_parent:".perfect-grid-item",after:".rexpansive_section"},t=(this.options=arguments[1]&&"object"==typeof arguments[1]?h(t,arguments[1]):t,this.element.getAttribute("data-rex-indicator-options"));if(null!==t)try{var e=JSON.parse(t);this.options=h(this.options,e)}catch(t){console.warn("[RexIndicator]: inline options passed in wrong manner")}this.indicator=this.element.querySelector(this.options.indicator),this.block_ref=s(this.element,this.options.block_parent).pop(),this.after_ref=s(this.element,this.options.after).pop(),this.relative_to_element=document.querySelector(this.options.relative_to_selector),this.indicator_moved_parent=null,this.resizeCallbackIndex=-1,function(){(function(){this.after_ref.after(this.indicator),this.indicator_moved_parent=this.indicator.parentElement}).call(this),o.call(this),r.call(this),i.push(function(){o.call(this),r.call(this)}.bind(this)),this.resizeCallbackIndex=i.length-1}.call(this),n.push(this)}function o(){if("auto"!==this.options.to_amount)switch(this.options.to){case"left":var e=this.element.getBoundingClientRect().x,i=this.indicator_moved_parent.getBoundingClientRect().x;this.indicator.style.setProperty("--rex-indicator-wrap-width",e-i+"px");break;case"right":e=this.indicator_moved_parent.getBoundingClientRect(),i=this.element.getBoundingClientRect().x,e=e.x+e.width-i;this.indicator.style.setProperty("--rex-indicator-wrap-width",e+"px");break;case"bottom":{let t;t=(this.relative_to_element||this.after_ref).getBoundingClientRect();i=this.element.getBoundingClientRect(),e=t.y+t.height-i.y-i.height/2;this.indicator.style.setProperty("--rex-indicator-wrap-height",e+"px");break}case"top":{let t;t=(this.relative_to_element||this.after_ref).getBoundingClientRect();i=this.element.getBoundingClientRect(),e=i.y-t.y+i.height/2;this.indicator.style.setProperty("--rex-indicator-wrap-height",e+"px");break}}}function r(){let t={top:0,left:0};switch(this.options.relative_to){case"block":case"start":t=function(){}.call(this);break;case"parent":t=function(){var t={top:0,left:0},e=l(this.block_ref),i=l(this.element.parentElement),n=l(this.element);{var o;"left"==this.options.to||"right"==this.options.to?t.top=n.top+a(this.element,!0)/2-this.indicator.getBoundingClientRect().height/2:"top"==this.options.to?"auto"===this.options.to_amount?t.top=e.top-this.indicator.getBoundingClientRect().height/2:this.relative_to_element?(o=l(this.relative_to_element),t.top=o.top):(o=l(this.after_ref),t.top=o.top):"bottom"==this.options.to&&("auto"===this.options.to_amount?t.top=e.top+a(this.block_ref,!0)-this.indicator.getBoundingClientRect().height/2:t.top=n.top+this.element.getBoundingClientRect().height/2)}"top"==this.options.to||"bottom"==this.options.to?"auto"===this.options.to_amount?t.left=i.left+this.indicator.getBoundingClientRect().width/2:t.left=n.left-this.indicator.getBoundingClientRect().width/2:"left"==this.options.to?"auto"===this.options.to_amount?t.left=e.left-this.indicator.getBoundingClientRect().width/2:(i=this.indicator_moved_parent.getBoundingClientRect(),t.left=i.left):"right"==this.options.to&&("auto"===this.options.to_amount?t.left=e.left+function(t,e=!1){if(!e)return t.offsetWidth;e=getComputedStyle(t);return t.getBoundingClientRect().width+parseFloat(e.getPropertyValue("margin-left"))+parseFloat(e.getPropertyValue("margin-right"))}(this.block_ref)-this.indicator.getBoundingClientRect().width/2:(n=this.indicator_moved_parent.getBoundingClientRect(),t.left=n.left+n.width-this.indicator.getBoundingClientRect().width));return t}.call(this)}var e,i;e=this.indicator,i=t,e.style.top=i.top+"px",e.style.left=i.left+"px"}function s(t,e){for(var i=[];(t=t.parentNode)&&t!==document;)e&&!t.matches(e)||i.unshift(t);return i}function l(t){var t=t.getBoundingClientRect(),e=document.documentElement;return{top:t.top+window.pageYOffset-e.clientTop,left:t.left+window.pageXOffset-e.clientLeft}}function a(t,e=!1){return e?(e=getComputedStyle(t),t.getBoundingClientRect().height+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))):t.offsetHeight}function h(t,e){let i;for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}return new ResizeObserver(function(){for(let t=0;t<i.length;t++)null!==i[t]&&i[t].call()}).observe(document.body),t.prototype.destroy=function(){this.element.append(this.indicator),i[this.resizeCallbackIndex]=null,n=n.filter(function(t){return t.element!==this.element}.bind(this))},t.data=function(t){for(var e=0,i=n.length,e=0;e<i;e++)if(t===n[e].element)return n[e];return null},t.destroyAll=function(){n.forEach(function(t){t.destroy()})},t});