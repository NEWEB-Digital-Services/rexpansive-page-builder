/*
 *  rexScrolled - v0.1
 *
 *  Made by NEWEB di Simone Forgiarini
 */
!function(s,o,a,t){"use strict";function i(){for(var t=0;t<r.length;t++)null!==r[t]&&r[t].call()}var l="rexScrolled",n={offset:0,mobile:!0,force_launch:!1,callback:null,visiblePercentage:50},r=[];o.addEventListener("scroll",i);var h=e();function e(){var t=o,e="inner";return"innerWidth"in o||(e="client",t=a.documentElement||a.body),{width:t[e+"Width"],height:t[e+"Height"]}}function c(t,e){this.element=t,this.$element=s(t),this.settings=s.extend({},n,e),this._defaults=n,this._name=l,this.properties={launched:!1},this.settings.offset=parseInt(this.element.getAttribute("data-rs-animation-offset")||this.settings.offset),this.settings.force_launch=this.element.getAttribute("data-rs-animation-force-launch")||this.settings.force_launch,this.settings.visiblePercentage=(parseInt(this.element.getAttribute("data-rs-animation-visible-percentage"))||this.settings.visiblePercentage)/100,this.init()}o.addEventListener("resize",function(){h=e()}),s.extend(c.prototype,{init:function(){this.instance_index=r.length,r.push(this.has_scrolled.bind(this)),this.has_scrolled(!1)},has_scrolled:function(t){var e,i,n,s,l,r;t=void 0===t||t,h.width<=767&&!this.settings.mobile?(this.properties.launched=!0,t&&this.removeScrollHandler()):this.properties.launched?t&&this.removeScrollHandler():(e=h.height,i=o.pageYOffset||a.documentElement.scrollTop,l=this.element,r=void 0!==(r=i)?r:o.pageYOffset||a.documentElement.scrollTop,n=(l=l.getBoundingClientRect().top+r)+(r=this.element.offsetHeight),s=e*(this.settings.offset/100),(i+s<=l&&n<=i+e-s||l+r*this.settings.visiblePercentage<=i+e-s&&i+e-s<=n||l+r*this.settings.visiblePercentage>=i+s&&l<=i+s)&&(this.properties.launched=!0,this.$element.trigger("rs-scrolled-complete"),this.settings.callback&&"function"==typeof this.settings.callback&&this.settings.callback(this.element),t)&&this.removeScrollHandler())},removeScrollHandler:function(){var t=this.instance_index;r[t]=null;for(var e=0;e<r.length;e++)if(null!==r[e])return;o.removeEventListener("scroll",i)}}),s.fn[l]=function(e){var i,n=arguments;return e===t||"object"==typeof e?this.each(function(){s.data(this,"plugin_"+l)||s.data(this,"plugin_"+l,new c(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each(function(){var t=s.data(this,"plugin_"+l);t instanceof c&&"function"==typeof t[e]&&(i=t[e].apply(t,Array.prototype.slice.call(n,1))),"destroy"===e&&s.data(this,"plugin_"+l,null)}),i!==t?i:this):void 0}}(jQuery,window,document);