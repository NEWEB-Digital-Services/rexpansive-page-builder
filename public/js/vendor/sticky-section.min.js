/**
 * Stick a the content of a section to the top of the screen
 * 
 * @version 1.0.0
 */
!function(t,i){"use strict";t.StickySection=i(t)}("undefined"!=typeof window?window:this,function(){function t(){this.element=null,this.stickyElement=null,this.borderAnimationEl={},this.overlayAnimationEl=null,this.ticking=!1,this.stickyId=null,arguments[0]&&(this.element=arguments[0]);var t={offset:0,stickyElementSelector:".sticky-element",stickyJS:!0,borderAnimation:!1,overlayAnimation:!1,originalOverlaySelector:".responsive-overlay",borderCustomClass:"",requestAnimationFrame:!1};if(arguments[1]&&"object"==typeof arguments[1]?this.options=d(t,arguments[1]):this.options=t,this.stickyElement=""!==this.options.stickyElementSelector?this.element.querySelector(this.options.stickyElementSelector):null,null!==this.stickyElement){if(this.stickyId=y,u[this.stickyId]=!1,y++,this.options.borderAnimation&&(this.borderAnimationEl.el=document.createElement("div"),w(this.borderAnimationEl.el,"sticky__border-animation__wrap"),this.borderAnimationEl.bt=document.createElement("div"),w(this.borderAnimationEl.bt,"sticky__border-animation__top"),this.borderAnimationEl.br=document.createElement("div"),w(this.borderAnimationEl.br,"sticky__border-animation__right"),this.borderAnimationEl.bb=document.createElement("div"),w(this.borderAnimationEl.bb,"sticky__border-animation__bottom"),this.borderAnimationEl.bl=document.createElement("div"),w(this.borderAnimationEl.bl,"sticky__border-animation__left"),this.borderAnimationEl.el.appendChild(this.borderAnimationEl.bt),this.borderAnimationEl.el.appendChild(this.borderAnimationEl.br),this.borderAnimationEl.el.appendChild(this.borderAnimationEl.bb),this.borderAnimationEl.el.appendChild(this.borderAnimationEl.bl),""!==this.options.borderCustomClass&&w(this.borderAnimationEl.el,this.options.borderCustomClass),this.element.insertBefore(this.borderAnimationEl.el,this.element.firstChild)),this.options.overlayAnimation){var i=this.element.querySelector(this.options.originalOverlaySelector);i&&(this.overlayAnimationEl=document.createElement("div"),w(this.overlayAnimationEl,"sticky__overlay"),this.overlayAnimationEl.style.backgroundColor=i.style.backgroundColor,g(i,"rex-active-overlay"),this.stickyElement.appendChild(this.overlayAnimationEl))}if(this.options.stickyJS)w(this.element,"sticky-js");else{var e=document.createElement("div");e.className="sticky-element__wrapper",w(this.element,"sticky-css"),this.stickyElement}if(s.call(this),this.options.requestAnimationFrame)window.addEventListener("scroll",n.bind(this));else if(f){var o=this;setInterval(function(){u[o.stickyId]&&(u[o.stickyId]=!1,s.call(o))},50)}else E?b[this.stickyId]=s.bind(this):window.addEventListener("scroll",s.bind(this));h.push(this)}}function i(){var t,i=b.length;for(t=0;t<i;t++)b[t].call()}function e(){var t,i=u.length;for(t=0;t<i;t++)u[t]=!0}function n(t){o.call(this)}function o(){this.ticking||requestAnimationFrame(s.bind(this)),this.ticking=!0}function s(t){this.ticking=!1;var i=c(),e=i+v,n=m(this.element,i),o=this.element.offsetHeight,s=n+o,a=v*this.options.offset;i+=a,e-=a;var d=i>=n,h=e<=s,u=i<=n,b=e>=s;if(this.options.stickyJS)if(d&&h){var y=i-n;l.call(this,y),w(this.element,"will-change-rule")}else g(this.element,"will-change-rule"),u?l.call(this,0):b&&l.call(this,o-v);var f=s>i,E=n<e;f&&E?w(this.element,"visibile"):g(this.element,"visibile");var p=100*(i-n)/(o-v);if(this.options.borderAnimation)if(d&&h){var A=1-1*p/5;A<=1&&A>0?r.call(this,A):r.call(this,0)}else u?this.options.borderAnimation&&r.call(this,1):b&&this.options.borderAnimation&&r.call(this,0);var k;this.options.overlayAnimation&&(d&&h?(k=1-Math.pow(1-p/100,3),this.overlayAnimationEl.style.opacity=k):u?this.overlayAnimationEl.style.opacity=0:b&&(this.overlayAnimationEl.style.opacity=1))}function l(t){for(var i=0;i<A;i++)this.stickyElement.style[p[i]]="translate(0px,"+t+"px)"}function r(t){for(var i=0;i<A;i++)this.borderAnimationEl.bt.style[p[i]]="scale(1,"+t+")",this.borderAnimationEl.bb.style[p[i]]="scale(1,"+t+")",this.borderAnimationEl.br.style[p[i]]="scale("+t+",1)",this.borderAnimationEl.bl.style[p[i]]="scale("+t+",1)"}function a(t){v=document.documentElement.clientHeight}function c(){return window.pageYOffset||document.documentElement.scrollTop}function m(t,i){i="undefined"!=typeof i?i:window.pageYOffset||document.documentElement.scrollTop;var e=t.getBoundingClientRect();return e.top+i}function d(t,i){var e;for(e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}var h=[],u=[],b=[],y=0,f=!0,E=!1;f?window.addEventListener("scroll",e):E&&window.addEventListener("scroll",i);var v=document.documentElement.clientHeight;window.addEventListener("resize",a);var p=["-webkit-transform","-ms-transform","transform"],A=p.length;t.prototype.hideBorder=function(){r.call(this,0)};var k,w,g,_;return"classList"in document.documentElement?(k=function(t,i){return t.classList.contains(i)},w=function(t,i){t.classList.add(i)},g=function(t,i){t.classList.remove(i)}):(k=function(t,i){return new RegExp("\\b"+i+"\\b").test(t.className)},w=function(t,i){k(t,i)||(t.className+=" "+i)},g=function(t,i){t.className=t.className.replace(new RegExp("\\b"+i+"\\b","g"),"")}),_=function(t,i){k(t,i)?g(t,i):w(t,i)},t.prototype.destroy=function(){function t(t){return t.element!==this.element}var i=this.element.querySelector(".sticky-background-simulator");i.parentNode.removeChild(i),h=h.filter(t.bind(this))},t.data=function(t){var i=0,e=h.length;for(i=0;i<e;i++)if(t===h[i].element)return h[i];return null},t});