/**
 * Stick a the content of a section to the top of the screen
 * 
 * @version 1.0.0
 */
!function(){function t(t){i.call(this)}function i(){this.ticking||requestAnimationFrame(e.bind(this)),this.ticking=!0}function e(t){this.ticking=!1;var i=l(),e=i+m,s=r(this.element,i),a=this.element.offsetHeight,c=s+a,h=m*this.options.offset;i+=h,e-=h;var d=i>=s,b=e<=c,E=i<=s,p=e>=c;if(this.options.stickyJS)if(d&&b){var f=i-s;n.call(this,f),u(this.element,"will-change-rule")}else y(this.element,"will-change-rule"),E?n.call(this,0):p&&n.call(this,a-m);var v=c>i,A=s<e;v&&A?u(this.element,"visibile"):y(this.element,"visibile");var k=100*(i-s)/(a-m),_=200/(a-m)*(i-s)-100;if(this.options.borderAnimation)if(d&&b){var g=1-1*k/5;g<=1&&g>0?o.call(this,g):o.call(this,0)}else E?this.options.borderAnimation&&o.call(this,1):p&&this.options.borderAnimation&&o.call(this,0);this.options.overlayAnimation&&(d&&b?this.overlayAnimationEl.style.opacity=1-Math.pow(1-_/100,1.75):E?this.overlayAnimationEl.style.opacity=0:p&&(this.overlayAnimationEl.style.opacity=1))}function n(t){for(var i=0;i<d;i++)this.stickyElement.style[h[i]]="translate(0px,"+t+"px)"}function o(t){for(var i=0;i<d;i++)this.borderAnimationEl.bt.style[h[i]]="scale(1,"+t+")",this.borderAnimationEl.bb.style[h[i]]="scale(1,"+t+")",this.borderAnimationEl.br.style[h[i]]="scale("+t+",1)",this.borderAnimationEl.bl.style[h[i]]="scale("+t+",1)"}function s(t){m=document.documentElement.clientHeight}function l(){return window.pageYOffset||document.documentElement.scrollTop}function r(t,i){i="undefined"!=typeof i?i:window.pageYOffset||document.documentElement.scrollTop;var e=t.getBoundingClientRect();return e.top+i}function a(t,i){t.parentNode.insertBefore(i,t),i.appendChild(t)}function c(t,i){var e;for(e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}this.StickySection=function(){this.element=null,this.stickyElement=null,this.borderAnimationEl={},this.overlayAnimationEl=null,this.ticking=!1,arguments[0]&&(this.element=arguments[0]);var i={offset:0,stickyElementSelector:".sticky-element",stickyJS:!0,borderAnimation:!1,overlayAnimation:!1,originalOverlaySelector:".responsive-overlay",borderCustomClass:"",requestAnimationFrame:!1};if(arguments[1]&&"object"==typeof arguments[1]?this.options=c(i,arguments[1]):this.options=i,this.stickyElement=""!==this.options.stickyElementSelector?this.element.querySelector(this.options.stickyElementSelector):null,this.options.borderAnimation&&(this.borderAnimationEl.el=document.createElement("div"),u(this.borderAnimationEl.el,"sticky__border-animation__wrap"),this.borderAnimationEl.bt=document.createElement("div"),u(this.borderAnimationEl.bt,"sticky__border-animation__top"),this.borderAnimationEl.br=document.createElement("div"),u(this.borderAnimationEl.br,"sticky__border-animation__right"),this.borderAnimationEl.bb=document.createElement("div"),u(this.borderAnimationEl.bb,"sticky__border-animation__bottom"),this.borderAnimationEl.bl=document.createElement("div"),u(this.borderAnimationEl.bl,"sticky__border-animation__left"),this.borderAnimationEl.el.appendChild(this.borderAnimationEl.bt),this.borderAnimationEl.el.appendChild(this.borderAnimationEl.br),this.borderAnimationEl.el.appendChild(this.borderAnimationEl.bb),this.borderAnimationEl.el.appendChild(this.borderAnimationEl.bl),""!==this.options.borderCustomClass&&u(this.borderAnimationEl.el,this.options.borderCustomClass),this.element.insertBefore(this.borderAnimationEl.el,this.element.firstChild)),this.options.overlayAnimation){var n=this.element.querySelector(this.options.originalOverlaySelector);n&&(this.overlayAnimationEl=document.createElement("div"),u(this.overlayAnimationEl,"sticky__overlay"),this.overlayAnimationEl.style.backgroundColor=n.style.backgroundColor,y(n,"rex-active-overlay"),this.element.insertBefore(this.overlayAnimationEl,this.element.firstChild))}if(this.options.stickyJS)u(this.element,"sticky-js");else{var o=document.createElement("div");o.className="sticky-element__wrapper",u(this.element,"sticky-css"),this.stickyElement&&a(this.stickyElement,o)}e.call(this),this.options.requestAnimationFrame?window.addEventListener("scroll",t.bind(this)):window.addEventListener("scroll",e.bind(this)),this.element.StickySectionInstance=this};var m=document.documentElement.clientHeight;window.addEventListener("resize",s);var h=["-webkit-transform","-ms-transform","transform"],d=h.length;StickySection.prototype.hideBorder=function(){o.call(this,0)};var b,u,y,E;"classList"in document.documentElement?(b=function(t,i){return t.classList.contains(i)},u=function(t,i){t.classList.add(i)},y=function(t,i){t.classList.remove(i)}):(b=function(t,i){return new RegExp("\\b"+i+"\\b").test(t.className)},u=function(t,i){b(t,i)||(t.className+=" "+i)},y=function(t,i){t.className=t.className.replace(new RegExp("\\b"+i+"\\b","g"),"")}),E=function(t,i){b(t,i)?y(t,i):u(t,i)}}();