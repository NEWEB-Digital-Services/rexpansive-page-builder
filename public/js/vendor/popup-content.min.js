/**
 * PopUp Content plugin
 * 
 */
!function(t){function e(){if(this.hashTarget=this.element.hash.substr(1),""!==this.hashTarget)this.target=document.getElementById(this.hashTarget);else{this.urlTarget=this.element.href,this.target=l(this.options),null!==this.options.ajaxSettings&&(this.options.ajaxSettings.data.target=this.urlTarget,this.options.ajaxSettings.success=s.bind(this),this.options.ajaxSettings.error=function(t){console.log("There was an error")});var t=c(this.element,this.options.contentInjectorPoint);t.insertAdjacentElement("afterend",this.target),"load"===this.options.loadTiming&&i.call(this)}null!==this.target&&(this.closeBtn=[].slice.call(this.target.getElementsByClassName(this.options.popUpCloseClass)),this.closeBtn.length>0&&(this.closeBtn=this.closeBtn[0]))}function n(){this.element.addEventListener("click",o.bind(this)),this.closeBtn&&this.closeBtn.addEventListener("click",o.bind(this)),"hover"===this.options.loadTiming&&this.element.addEventListener("mouseover",i.bind(this),{once:!0})}function o(t){t.preventDefault(),m(this.target,this.options.popupViewClass),m(document.body,this.options.bodyPopUpViewClass)}function s(t){console.time("load_content"),t.success&&a.call(this,t.data.data),console.timeEnd("load_content")}function i(e){if(!this.contentLoaded){e.preventDefault();var n=this;if(null!==this.options.ajaxSettings)t.ajax(this.options.ajaxSettings);else{var o=new XMLHttpRequest;o.open("GET",this.urlTarget,!0),o.onload=function(){if(o.status>=200&&o.status<400){var t=o.responseText;a.call(n,t)}},o.onerror=function(){},o.send()}}}function a(t){p.call(this,t),"function"==typeof this.options.getPopUpContentComplete&&this.options.getPopUpContentComplete.call(this),this.contentLoaded=!0}function p(t){this.target.querySelector("."+this.options.popUpContent).innerHTML=t}function l(t){var e=document.createElement("div");u(e,t.popUpWrapper);var n=document.createElement("div");u(n,t.popUpCloseWrapper);var o=document.createElement("div");o.innerText="X",u(o,t.popUpCloseClass);var s=document.createElement("div");return u(s,t.popUpContent),n.appendChild(o),e.appendChild(n),e.appendChild(s),e}function c(t,e){return null===t.parentNode||t.parentNode instanceof HTMLDocument?null:h(t.parentNode,e)?t.parentNode:c(t.parentNode,e)}function r(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}this.PopUpContent=function(){this.element=null,this.hashTarget="",this.target=null,this.urlTarget="",this.closeBtn=null,this.contentLoaded=!1,arguments[0]&&(this.element=arguments[0]);var t={bodyPopUpViewClass:"popup-content--active",popUpWrapper:"popup-content",popupViewClass:"popup-content--view",popUpCloseWrapper:"popup-content-close-wrapper",popUpCloseClass:"popup-content-close",popUpContent:"popup-content-content",contentInjectorPoint:"rexpansive_section",loadTiming:"hover",getPopUpContentComplete:null,ajaxSettings:null};arguments[1]&&"object"==typeof arguments[1]?this.options=r(t,arguments[1]):this.options=t,null!==this.element&&(e.call(this),null!==this.target&&n.call(this))};var h,u,d,m;"classList"in document.documentElement?(h=function(t,e){return t.classList.contains(e)},u=function(t,e){t.classList.add(e)},d=function(t,e){t.classList.remove(e)}):(h=function(t,e){return new RegExp("\\b"+e+"\\b").test(t.className)},u=function(t,e){h(t,e)||(t.className+=" "+e)},d=function(t,e){t.className=t.className.replace(new RegExp("\\b"+e+"\\b","g"),"")}),m=function(t,e){h(t,e)?d(t,e):u(t,e)}}(jQuery);