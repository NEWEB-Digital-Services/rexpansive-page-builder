/**
 * PopUp Content plugin
 * 
 */
!function(t){function e(){if(this.hashTarget=this.element.hash.substr(1),""!==this.hashTarget)this.target=document.getElementById(this.hashTarget);else{if(this.urlTarget=this.element.href,this.target=p.call(this),null!==this.options.ajaxSettings){var t=this;this.options.ajaxSettings.data.target=this.urlTarget,this.options.ajaxSettings.success=function(e){console.time("load_content"),e.success&&i.call(t,e.data.data),console.timeEnd("load_content")},this.options.ajaxSettings.error=function(t){console.log("There was an error")}}var e=l(this.element,this.options.contentInjectorPoint);e.insertAdjacentElement("afterend",this.target),"load"===this.options.loadTiming&&s.call(this)}null!==this.target&&(this.closeBtn=[].slice.call(this.target.getElementsByClassName(this.options.popUpCloseClass)),this.closeBtn.length>0&&(this.closeBtn=this.closeBtn[0]))}function n(){this.element.addEventListener("click",o.bind(this)),this.closeBtn&&this.closeBtn.addEventListener("click",o.bind(this)),"hover"===this.options.loadTiming&&this.element.addEventListener("mouseover",s.bind(this),{once:!0})}function o(t){t.preventDefault(),d(this.target,this.options.popupViewClass),d(document.body,this.options.bodyPopUpViewClass)}function s(){var e=this;if(null!==this.options.ajaxSettings)t.ajax(this.options.ajaxSettings);else{var n=new XMLHttpRequest;n.open("GET",this.urlTarget,!0),n.onload=function(){if(n.status>=200&&n.status<400){var t=n.responseText;i.call(e,t)}},n.onerror=function(){},n.send()}}function i(t){a.call(this,t),"function"==typeof this.options.getPopUpContentComplete&&this.options.getPopUpContentComplete.call(this),this.contentLoaded=!0}function a(t){this.target.querySelector("."+this.options.popUpContent).innerHTML=t}function p(){var t=document.createElement("div");h(t,this.options.popUpWrapper);var e=document.createElement("div");h(e,this.options.popUpCloseWrapper);var n=document.createElement("div");n.innerText="X",h(n,this.options.popUpCloseClass);var o=document.createElement("div");return h(o,this.options.popUpContent),e.appendChild(n),t.appendChild(e),t.appendChild(o),t}function l(t,e){return null===t.parentNode||t.parentNode instanceof HTMLDocument?null:r(t.parentNode,e)?t.parentNode:l(t.parentNode,e)}function c(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}this.PopUpContent=function(){this.element=null,this.hashTarget="",this.target=null,this.urlTarget="",this.closeBtn=null,this.contentLoaded=!1,arguments[0]&&(this.element=arguments[0]);var t={bodyPopUpViewClass:"popup-content--active",popUpWrapper:"popup-content",popupViewClass:"popup-content--view",popUpCloseWrapper:"popup-content-close-wrapper",popUpCloseClass:"popup-content-close",popUpContent:"popup-content-content",contentInjectorPoint:"rexpansive_section",loadTiming:"hover",getPopUpContentComplete:null,ajaxSettings:null};arguments[1]&&"object"==typeof arguments[1]?this.options=c(t,arguments[1]):this.options=t,null!==this.element&&(e.call(this),null!==this.target&&n.call(this))};var r,h,u,d;"classList"in document.documentElement?(r=function(t,e){return t.classList.contains(e)},h=function(t,e){t.classList.add(e)},u=function(t,e){t.classList.remove(e)}):(r=function(t,e){return new RegExp("\\b"+e+"\\b").test(t.className)},h=function(t,e){r(t,e)||(t.className+=" "+e)},u=function(t,e){t.className=t.className.replace(new RegExp("\\b"+e+"\\b","g"),"")}),d=function(t,e){r(t,e)?u(t,e):h(t,e)}}(jQuery);