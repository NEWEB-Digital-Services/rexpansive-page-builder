/*
 *  rexAccordion - v1.0.0
 *
 *  Made by NEWEB di Simone Forgiarini
 */
!function(t,e,s,n){"use strict";function o(e,s){this.element=e,this.$element=t(e),this.settings=t.extend({},l,s),this._defaults=l,this._name=i,null==this.settings.durationOpen&&(this.settings.durationOpen=this.settings.duration),null==this.settings.durationClose&&(this.settings.durationClose=this.settings.duration);var n=this.$element.find(this.settings.selectors.toggle),o=this.$element.find(this.settings.selectors.content),c=this,r=[];n.each(function(e,s){t(s).closest(c.settings.selectors.self).is(c.$element)&&r.push(s)});var a=[];o.each(function(e,s){t(s).closest(c.settings.selectors.self).is(c.$element)&&a.push(s)}),this.properties={$toggle:t(r),$content:t(a)},this.init()}var i="rexAccordion",l={selectors:{self:".rex-accordion",toggle:".rex-accordion--toggle",content:".rex-accordion--content"},duration:150,durationOpen:null,durationClose:null,noToggleClass:"no-toggle"};t.extend(o.prototype,{init:function(){var e=this;"function"==typeof this.settings.onSetup&&this.settings.onSetup.call(this),this.updateState(),this.properties.$toggle.each(function(s,n){t(n).on("click",function(n){t(n.target).hasClass(e.settings.noToggleClass)||0!==t(n.target).parents("."+e.settings.noToggleClass).length||e._handle_click(s)})})},updateState:function(){this.$element.hasClass("close")&&this.close_all(),this.$element.hasClass("open")&&this.open_all()},_handle_click:function(t){var e=this;1==this.properties.$toggle.length?this.$element.hasClass("open")?(this.$element.addClass("close").removeClass("open"),this.properties.$content.slideUp({duration:this.settings.durationClose,start:function(s){"function"==typeof e.settings.close.startClbk&&e.settings.close.startClbk.call(this,e,t)},progress:function(s,n,o){"function"==typeof e.settings.close.progressClbk&&e.settings.close.progressClbk.call(this,e,n,t)},complete:function(){"function"==typeof e.settings.close.completeClbk&&e.settings.close.completeClbk.call(this,e,t),e.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close")):this.$element.hasClass("close")&&(this.$element.addClass("open").removeClass("close"),this.properties.$content.slideDown({duration:this.settings.durationOpen,start:function(s){"function"==typeof e.settings.open.startClbk&&e.settings.open.startClbk.call(this,e,t)},progress:function(s,n,o){"function"==typeof e.settings.open.progressClbk&&e.settings.open.progressClbk.call(this,e,n,t)},complete:function(){"function"==typeof e.settings.open.completeClbk&&e.settings.open.completeClbk.call(this,e,t),e.$element.trigger("rex_accordion:open")}}).attr("data-item-status","open")):1<this.properties.$toggle.length&&(this.$element.hasClass("open")?"open"==this.properties.$content.eq(t).attr("data-item-status")?(this.$element.addClass("close").removeClass("open"),this.properties.$content.eq(t).slideUp({duration:this.settings.durationClose,start:function(s){"function"==typeof e.settings.close.startClbk&&e.settings.close.startClbk.call(this,e,t)},progress:function(s,n,o){"function"==typeof e.settings.close.progressClbk&&e.settings.close.progressClbk.call(this,e,n,t)},complete:function(){"function"==typeof e.settings.close.completeClbk&&e.settings.close.completeClbk.call(this,e,t),e.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close")):(this.$element.addClass("close").removeClass("close"),this.properties.$content.not(t).slideUp({duration:this.settings.durationClose,start:function(s){"function"==typeof e.settings.close.startClbk&&e.settings.close.startClbk.call(this,e,t)},progress:function(s,n,o){"function"==typeof e.settings.close.progressClbk&&e.settings.close.progressClbk.call(this,e,n,t)},complete:function(){"function"==typeof e.settings.close.completeClbk&&e.settings.close.completeClbk.call(this,e,t),e.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close"),this.properties.$content.eq(t).slideDown({duration:this.settings.durationOpen,start:function(s){"function"==typeof e.settings.open.startClbk&&e.settings.open.startClbk.call(this,e,t)},progress:function(s,n,o){"function"==typeof e.settings.open.progressClbk&&e.settings.open.progressClbk.call(this,e,n,t)},complete:function(){"function"==typeof e.settings.open.completeClbk&&e.settings.open.completeClbk.call(this,e,t),e.$element.trigger("rex_accordion:open")}}).attr("data-item-status","open")):this.$element.hasClass("close")&&("close"==this.properties.$content.eq(t).attr("data-item-status")?(this.$element.addClass("open").removeClass("close"),this.properties.$content.eq(t).slideDown({duration:this.settings.durationOpen,start:function(s){"function"==typeof e.settings.open.startClbk&&e.settings.open.startClbk.call(this,e,t)},progress:function(s,n,o){"function"==typeof e.settings.open.progressClbk&&e.settings.open.progressClbk.call(this,e,n,t)},complete:function(){"function"==typeof e.settings.open.completeClbk&&e.settings.open.completeClbk.call(this,e,t),e.$element.trigger("rex_accordion:open")}}).attr("data-item-status","open")):(this.$element.addClass("close").removeClass("open"),this.properties.$content.eq(t).slideUp({duration:this.settings.duration,start:function(s){"function"==typeof e.settings.close.startClbk&&e.settings.close.startClbk.call(this,e,t)},progress:function(s,n,o){"function"==typeof e.settings.close.progressClbk&&e.settings.close.progressClbk.call(this,e,n,t)},complete:function(){"function"==typeof e.settings.close.completeClbk&&e.settings.close.completeClbk.call(this,e,t),e.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close"),this.properties.$content.not(t).slideDown({duration:this.settings.durationOpen,start:function(s){"function"==typeof e.settings.open.startClbk&&e.settings.open.startClbk.call(this,e,t)},progress:function(s,n,o){"function"==typeof e.settings.open.progressClbk&&e.settings.open.progressClbk.call(this,e,n,t)},complete:function(){"function"==typeof e.settings.open.completeClbk&&e.settings.open.completeClbk.call(this,e,t),e.$element.trigger("rex_accordion:open")}}).attr("data-item-status","open"))))},open_all:function(){this.properties.$content.attr("data-item-status","open"),this.properties.$content.css("display","block"),this.$element.hasClass("close")&&this.$element.addClass("open").removeClass("close")},close_all:function(){this.properties.$content.attr("data-item-status","close"),this.properties.$content.css("display","none"),this.$element.hasClass("open")&&this.$element.addClass("close").removeClass("open")},getState:function(){return this.properties.$content.attr("data-item-status")}}),t.fn[i]=function(e){var s=arguments;if(e===n||"object"==typeof e)return this.each(function(){t.data(this,"plugin_"+i)||t.data(this,"plugin_"+i,new o(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var l;return this.each(function(){var n=t.data(this,"plugin_"+i);n instanceof o&&"function"==typeof n[e]&&(l=n[e].apply(n,Array.prototype.slice.call(s,1))),"destroy"===e&&t.data(this,"plugin_"+i,null)}),l!==n?l:this}}}(jQuery,window,document);