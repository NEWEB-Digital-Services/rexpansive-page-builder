/*
 *  rexAccordion - v1.0.0
 *
 *  Made by NEWEB di Simone Forgiarini
 */
!function(i,t){"use strict";var l="rexAccordion",c={selectors:{self:".rex-accordion",toggle:".rex-accordion--toggle",content:".rex-accordion--content"},duration:150,durationOpen:null,durationClose:null,noToggleClass:"no-toggle"};function o(t,e){this.element=t,this.$element=i(t),this.settings=i.extend({},c,e),this._defaults=c,this._name=l,null==this.settings.durationOpen&&(this.settings.durationOpen=this.settings.duration),null==this.settings.durationClose&&(this.settings.durationClose=this.settings.duration);var t=this.$element.find(this.settings.selectors.toggle),e=this.$element.find(this.settings.selectors.content),s=this,n=[],o=(t.each(function(t,e){i(e).closest(s.settings.selectors.self).is(s.$element)&&n.push(e)}),[]);e.each(function(t,e){i(e).closest(s.settings.selectors.self).is(s.$element)&&o.push(e)}),this.properties={$toggle:i(n),$content:i(o)},this.init()}i.extend(o.prototype,{init:function(){var s=this;"function"==typeof this.settings.onSetup&&this.settings.onSetup.call(this),this.updateState(),this.properties.$toggle.each(function(e,t){i(t).on("click",function(t){i(t.target).hasClass(s.settings.noToggleClass)||0!==i(t.target).parents("."+s.settings.noToggleClass).length||s._handle_click(e)})})},updateState:function(){this.$element.hasClass("close")&&this.close_all(),this.$element.hasClass("open")&&this.open_all()},_handle_click:function(n){var o=this;1==this.properties.$toggle.length?this.$element.hasClass("open")?(this.$element.addClass("close").removeClass("open"),this.properties.$content.slideUp({duration:this.settings.durationClose,start:function(t){"function"==typeof o.settings.close.startClbk&&o.settings.close.startClbk.call(this,o,n)},progress:function(t,e,s){"function"==typeof o.settings.close.progressClbk&&o.settings.close.progressClbk.call(this,o,e,n)},complete:function(){"function"==typeof o.settings.close.completeClbk&&o.settings.close.completeClbk.call(this,o,n),o.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close")):this.$element.hasClass("close")&&(this.$element.addClass("open").removeClass("close"),this.properties.$content.slideDown({duration:this.settings.durationOpen,start:function(t){"function"==typeof o.settings.open.startClbk&&o.settings.open.startClbk.call(this,o,n)},progress:function(t,e,s){"function"==typeof o.settings.open.progressClbk&&o.settings.open.progressClbk.call(this,o,e,n)},complete:function(){"function"==typeof o.settings.open.completeClbk&&o.settings.open.completeClbk.call(this,o,n),o.$element.trigger("rex_accordion:open")}}).attr("data-item-status","open")):1<this.properties.$toggle.length&&(this.$element.hasClass("open")?"open"==this.properties.$content.eq(n).attr("data-item-status")?(this.$element.addClass("close").removeClass("open"),this.properties.$content.eq(n).slideUp({duration:this.settings.durationClose,start:function(t){"function"==typeof o.settings.close.startClbk&&o.settings.close.startClbk.call(this,o,n)},progress:function(t,e,s){"function"==typeof o.settings.close.progressClbk&&o.settings.close.progressClbk.call(this,o,e,n)},complete:function(){"function"==typeof o.settings.close.completeClbk&&o.settings.close.completeClbk.call(this,o,n),o.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close")):(this.$element.addClass("close").removeClass("close"),this.properties.$content.not(n).slideUp({duration:this.settings.durationClose,start:function(t){"function"==typeof o.settings.close.startClbk&&o.settings.close.startClbk.call(this,o,n)},progress:function(t,e,s){"function"==typeof o.settings.close.progressClbk&&o.settings.close.progressClbk.call(this,o,e,n)},complete:function(){"function"==typeof o.settings.close.completeClbk&&o.settings.close.completeClbk.call(this,o,n),o.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close"),this.properties.$content.eq(n).slideDown({duration:this.settings.durationOpen,start:function(t){"function"==typeof o.settings.open.startClbk&&o.settings.open.startClbk.call(this,o,n)},progress:function(t,e,s){"function"==typeof o.settings.open.progressClbk&&o.settings.open.progressClbk.call(this,o,e,n)},complete:function(){"function"==typeof o.settings.open.completeClbk&&o.settings.open.completeClbk.call(this,o,n),o.$element.trigger("rex_accordion:open")}}).attr("data-item-status","open")):this.$element.hasClass("close")&&("close"==this.properties.$content.eq(n).attr("data-item-status")?(this.$element.addClass("open").removeClass("close"),this.properties.$content.eq(n).slideDown({duration:this.settings.durationOpen,start:function(t){"function"==typeof o.settings.open.startClbk&&o.settings.open.startClbk.call(this,o,n)},progress:function(t,e,s){"function"==typeof o.settings.open.progressClbk&&o.settings.open.progressClbk.call(this,o,e,n)},complete:function(){"function"==typeof o.settings.open.completeClbk&&o.settings.open.completeClbk.call(this,o,n),o.$element.trigger("rex_accordion:open")}})):(this.$element.addClass("close").removeClass("open"),this.properties.$content.eq(n).slideUp({duration:this.settings.duration,start:function(t){"function"==typeof o.settings.close.startClbk&&o.settings.close.startClbk.call(this,o,n)},progress:function(t,e,s){"function"==typeof o.settings.close.progressClbk&&o.settings.close.progressClbk.call(this,o,e,n)},complete:function(){"function"==typeof o.settings.close.completeClbk&&o.settings.close.completeClbk.call(this,o,n),o.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close"),this.properties.$content.not(n).slideDown({duration:this.settings.durationOpen,start:function(t){"function"==typeof o.settings.open.startClbk&&o.settings.open.startClbk.call(this,o,n)},progress:function(t,e,s){"function"==typeof o.settings.open.progressClbk&&o.settings.open.progressClbk.call(this,o,e,n)},complete:function(){"function"==typeof o.settings.open.completeClbk&&o.settings.open.completeClbk.call(this,o,n),o.$element.trigger("rex_accordion:open")}}))).attr("data-item-status","open"))},open_single_accordion:function(){var n=this;this.$element.addClass("open").removeClass("close"),this.properties.$content.slideDown({duration:this.settings.durationOpen,start:function(t){"function"==typeof n.settings.open.startClbk&&n.settings.open.startClbk.call(this,n)},progress:function(t,e,s){"function"==typeof n.settings.open.progressClbk&&n.settings.open.progressClbk.call(this,n,e)},complete:function(){"function"==typeof n.settings.open.completeClbk&&n.settings.open.completeClbk.call(this,n),n.$element.trigger("rex_accordion:open")}}).attr("data-item-status","open")},close_single_accordion:function(){var n=this;this.$element.addClass("close").removeClass("open"),this.properties.$content.slideUp({duration:this.settings.durationClose,start:function(t){"function"==typeof n.settings.close.startClbk&&n.settings.close.startClbk.call(this,n)},progress:function(t,e,s){"function"==typeof n.settings.close.progressClbk&&n.settings.close.progressClbk.call(this,n,e)},complete:function(){"function"==typeof n.settings.close.completeClbk&&n.settings.close.completeClbk.call(this,n),n.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close")},open_all:function(){this.properties.$content.attr("data-item-status","open"),this.properties.$content.css("display","block"),this.$element.hasClass("close")&&this.$element.addClass("open").removeClass("close")},close_all:function(){this.properties.$content.attr("data-item-status","close"),this.properties.$content.css("display","none"),this.$element.hasClass("open")&&this.$element.addClass("close").removeClass("open")},getState:function(){return this.properties.$content.attr("data-item-status")}}),i.fn[l]=function(e){var s,n=arguments;return e===t||"object"==typeof e?this.each(function(){i.data(this,"plugin_"+l)||i.data(this,"plugin_"+l,new o(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each(function(){var t=i.data(this,"plugin_"+l);t instanceof o&&"function"==typeof t[e]&&(s=t[e].apply(t,Array.prototype.slice.call(n,1))),"destroy"===e&&i.data(this,"plugin_"+l,null)}),s!==t?s:this):void 0}}(jQuery,(window,void document));