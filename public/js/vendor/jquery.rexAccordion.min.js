/*
 *  rexAccordion - v1.0.0
 *
 *  Made by NEWEB di Simone Forgiarini
 */
!function(t,e,s,n){"use strict";function i(e,s){this.element=e,this.$element=t(e),this.settings=t.extend({},l,s),this._defaults=l,this._name=o,null==this.settings.durationOpen&&(this.settings.durationOpen=this.settings.duration),null==this.settings.durationClose&&(this.settings.durationClose=this.settings.duration),this.properties={$toggle:this.$element.find(this.settings.selectors.toggle),$content:this.$element.find(this.settings.selectors.content)},this.init()}var o="rexAccordion",l={selectors:{toggle:".rex-accordion--toggle",content:".rex-accordion--content"},duration:150,durationOpen:null,durationClose:null};t.extend(i.prototype,{init:function(){var e=this;this.updateState(),this.properties.$toggle.each(function(s,n){t(n).on("click",function(){e._handle_click(s)})})},updateState:function(){this.$element.hasClass("close")&&this.close_all(),this.$element.hasClass("open")&&this.open_all()},_handle_click:function(t){var e=this;1==this.properties.$toggle.length?this.$element.hasClass("open")?(this.$element.addClass("close").removeClass("open"),this.properties.$content.slideUp({duration:this.settings.durationClose,start:function(t){"function"==typeof e.settings.close.startClbk&&e.settings.close.startClbk.call(this,e)},progress:function(t,s,n){"function"==typeof e.settings.close.progressClbk&&e.settings.close.progressClbk.call(this,e,s)},complete:function(){"function"==typeof e.settings.close.completeClbk&&e.settings.close.completeClbk.call(this,e),e.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close")):this.$element.hasClass("close")&&(this.$element.addClass("open").removeClass("close"),this.properties.$content.slideDown({duration:this.settings.durationOpen,start:function(t){"function"==typeof e.settings.open.startClbk&&e.settings.open.startClbk.call(this,e)},progress:function(t,s,n){"function"==typeof e.settings.open.progressClbk&&e.settings.open.progressClbk.call(this,e,s)},complete:function(){"function"==typeof e.settings.open.completeClbk&&e.settings.open.completeClbk.call(this,e),e.$element.trigger("rex_accordion:open")}}).attr("data-item-status","open")):1<this.properties.$toggle.length&&(this.$element.hasClass("open")?"open"==this.properties.$content.eq(t).attr("data-item-status")?(this.$element.addClass("close").removeClass("open"),this.properties.$content.eq(t).slideUp({duration:this.settings.durationClose,complete:function(){e.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close")):(this.$element.addClass("close").removeClass("close"),this.properties.$content.not(t).slideUp({duration:this.settings.durationClose,complete:function(){e.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close"),this.properties.$content.eq(t).slideDown({duration:this.settings.durationOpen,complete:function(){e.$element.trigger("rex_accordion:open")}}).attr("data-item-status","open")):this.$element.hasClass("close")&&("close"==this.properties.$content.eq(t).attr("data-item-status")?(this.$element.addClass("open").removeClass("close"),this.properties.$content.eq(t).slideDown({duration:this.settings.durationOpen,complete:function(){e.$element.trigger("rex_accordion:open")}}).attr("data-item-status","open")):(this.$element.addClass("close").removeClass("open"),this.properties.$content.eq(t).slideUp({duration:this.settings.duration,complete:function(){e.$element.trigger("rex_accordion:close")}}).attr("data-item-status","close"),this.properties.$content.not(t).slideDown({duration:this.settings.durationOpen,complete:function(){e.$element.trigger("rex_accordion:open")}}).attr("data-item-status","open"))))},open_all:function(){this.properties.$content.attr("data-item-status","open"),this.properties.$content.css("display","block"),this.$element.hasClass("close")&&this.$element.addClass("open").removeClass("close")},close_all:function(){this.properties.$content.attr("data-item-status","close"),this.properties.$content.css("display","none"),this.$element.hasClass("open")&&this.$element.addClass("close").removeClass("open")}}),t.fn[o]=function(e){var s=arguments;if(e===n||"object"==typeof e)return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new i(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var l;return this.each(function(){var n=t.data(this,"plugin_"+o);n instanceof i&&"function"==typeof n[e]&&(l=n[e].apply(n,Array.prototype.slice.call(s,1))),"destroy"===e&&t.data(this,"plugin_"+o,null)}),l!==n?l:this}}}(jQuery,window,document);