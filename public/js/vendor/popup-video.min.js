!function(e,t){"use strict";e.PopUpVideo=t(e)}("undefined"!=typeof window?window:this,function(){function e(){if(this.element=null,this.content=null,this.close=null,arguments[0]&&(this.element=arguments[0]),null===this.element){var e=document.createElement("div");e.className="popup-video__modal";var o=document.createElement("div");o.className="popup-video__modal__close",o.innerHTML='<i class="l-svg-icons"><svg><use xlink:href="#Z003-Close"></use></svg></i>';var i=document.createElement("div");i.className="popup-video__modal__content",e.appendChild(o),e.appendChild(i),document.body.appendChild(e),this.element=e}this.content=this.element.querySelector(".popup-video__modal__content"),this.close=this.element.querySelector(".popup-video__modal__close"),this.element.addEventListener("click",t.bind(this)),this.close.addEventListener("click",t.bind(this))}function t(e){e.preventDefault(),this.close_modal()}function o(){this.element=null,this.typology=null,arguments[0]&&(this.element=arguments[0]);var e={};arguments[1]&&"object"==typeof arguments[1]?this.options=n(e,arguments[1]):this.options=e,null!==this.element&&""!==this.element.href&&(i.call(this),this.typology&&s.call(this))}function i(){if(-1!==this.element.href.search(/https?:\/\/youtu.be\/[a-zA-Z0-9]+$/g)){this.typology="youtube";var e=/https+:\/\/youtu.be\/([a-zA-Z0-9]+)$/g,t=e.exec(this.element.href);this.resource_id=t[1]}else if(-1!==this.element.href.search(/https?:\/\/vimeo.com\/[a-zA-Z0-9]+$/g)){this.typology="vimeo";var o=/https?:\/\/vimeo.com\/([a-zA-Z0-9]+)$/g,i=o.exec(this.element.href);this.resource_id=i[1]}else-1!==this.element.href.search(/https?:\/\/\S*\.mp4$/g)&&(this.typology="mp4")}function s(){this.element.addEventListener("click",l.bind(this))}function l(e){e.preventDefault();var t;switch(this.typology){case"youtube":t=document.createElement("iframe"),t.setAttribute("allowfullscreen",!0),t.setAttribute("frameborder","0"),t.setAttribute("allow","autoplay"),t.setAttribute("src","https://www.youtube.com/embed/"+this.resource_id+"?autoplay=1&rel=0&color=white&frameborder=0");break;case"vimeo":t=document.createElement("iframe"),t.setAttribute("allowfullscreen",!0),t.setAttribute("frameborder","0"),t.setAttribute("allow","autoplay,fullscreen"),t.setAttribute("src","https://player.vimeo.com/video/"+this.resource_id+"?autoplay=1");break;case"mp4":t=document.createElement("video");var o=document.createElement("source");t.setAttribute("autoplay",!0),t.setAttribute("controls",!0),t.setAttribute("preload","metadata"),t.appendChild(o),o.setAttribute("type","video/mp4"),o.setAttribute("src",this.element.href)}r.open_modal(t)}function n(e,t){var o;for(o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}e.prototype.open_modal=function(e){this.content.appendChild(e),this.element.style.display="block"},e.prototype.close_modal=function(){this.element.style.display="",this.content.innerHTML=""};var r=new e(document.querySelector(".popup-video__modal"));return o});