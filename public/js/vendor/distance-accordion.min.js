/**
 * Accordion at distance plugin
 */
!function(e,s,i){function o(t){t.preventDefault(),this.options.closeChilds&&!this.targetsChildAccordions&&(this.targetsChildAccordions=[],this.targets.forEach(function(t){this.targetsChildAccordions.push([].slice.call(t.getElementsByClassName(this.options.accordionTogglerClass)))},this),this.targetsChildAccordions=[].concat.apply([],this.targetsChildAccordions)),(this.open?a:l).call(this)}function a(){this.$targets.slideUp({duration:150}),this.$element.addClass("close").removeClass("open"),this.$targets.addClass("target-close").removeClass("target-open"),0<this.$wrapToggler.length&&this.$wrapToggler.addClass("close").removeClass("open"),this.options.closeChilds&&this.targetsChildAccordions.forEach(function(t){t.DistanceAccordionInstance.open&&t.DistanceAccordionInstance.closeAccordion()}),this.open=!1,this.close=!0}function l(){var t,s;this.options.scrollTo?(t=this.$targets.eq(0).offset().top,s=this,e("html, body").animate({scrollTop:t},function(){s.$targets.slideDown({duration:150})})):this.$targets.slideDown({duration:150,complete:function(){e(this).trigger("da:open_complete")}}),this.$element.addClass("open").removeClass("close"),this.$targets.addClass("target-open").removeClass("target-close"),0<this.$wrapToggler.length&&this.$wrapToggler.addClass("open").removeClass("close"),this.windowWidthChanged=this.lastWindowWidth!==Rexbuilder_Util.globalViewport.width,this.lastWindowWidth=Rexbuilder_Util.globalViewport.width,this.windowWidthChanged&&function(){this.targets.forEach(function(t){t.matches(".rexpansive_section")&&(t=t.querySelector(".perfect-grid-gallery"),RexGrid.data(t).endResize())})}.call(this),this.open=!0,this.close=!1}this.DistanceAccordion=function(){this.element=null,this.$element=null,this.hashTarget="",this.classTarget="",this.targets=[],this.$targets=null,this.open=!0,this.close=!1,this.wrapper=null,this.$wrapToggler=[],this.targetsChildAccordions=null,this.context=i,this.lastWindowWidth=s.innerWidth,arguments[0]&&(this.element=arguments[0],this.$element=e(this.element));var t={openClassName:"open",closeClassName:"close",wrapObjects:!1,wrapperClassName:"da-wrapper",wrapperCustomClass:"",accordionElementClassName:"da-element",accordionTogglerClass:"distance-accordion-toggle",scrollTo:!1,closeChilds:!0,context:null};this.options=arguments[1]&&"object"==typeof arguments[1]?function(t,s){for(var e in s)s.hasOwnProperty(e)&&(t[e]=s[e]);return t}(t,arguments[1]):t,this.options.wrapObjects=this.element.getAttribute("data-wrap-objects")?Boolean(this.element.getAttribute("data-wrap-objects")):this.options.wrapObjects,this.options.wrapperCustomClass=this.element.getAttribute("data-wrapper-cc")?this.element.getAttribute("data-wrapper-cc"):this.options.wrapperCustomClass,this.options.scrollTo=this.element.getAttribute("data-scroll-to")?"true"===this.element.getAttribute("data-scroll-to"):this.options.scrollTo,this.options.closeChilds=this.element.getAttribute("data-close-childs")?"true"===this.element.getAttribute("data-close-childs"):this.options.closeChilds,this.context=this.options.context||this.context,this.element&&(this.hashTarget=this.element.hash.substr(1),""!==this.hashTarget?(t=this.context.getElementById(this.hashTarget))&&this.targets.push(t):(this.classTarget=this.element.getAttribute("data-target"),this.targets=[].slice.call(this.context.getElementsByClassName(this.classTarget))),0<this.targets.length&&(this.options.wrapObjects&&(-1!==this.element.className.indexOf("da-toggle-wrap")?this.$wrapToggler=this.$element:this.$wrapToggler=this.$element.parents(".da-toggle-wrap")),this.$targets=e(this.targets),-1!==this.element.className.indexOf(this.options.openClassName)?(this.open=!0,this.close=!1):-1!==this.element.className.indexOf(this.options.closeClassName)?(this.open=!1,this.close=!0):this.element.classList.add(this.options.openClassName),this.$targets.addClass(this.options.accordionElementClassName),this.close&&this.targets.forEach(function(t){t.style.display="none"}),(0<this.$wrapToggler.length?this.$wrapToggler[0]:this.element).addEventListener("click",o.bind(this)),this.$targets.on("click",".da-target__button",o.bind(this))),this.element.DistanceAccordionInstance=this)},DistanceAccordion.prototype.openAccordion=function(){l.call(this)},DistanceAccordion.prototype.closeAccordion=function(){a.call(this)}}(jQuery,window,document);